library(ggplot2)
library(gridExtra)
library(ggpubr)
load("C:/Users/mbofi/Dropbox/C5/Scripts/GitKraken/CBE_selection/results/results_decision_H0.RData")
knitr::opts_chunk$set(echo = TRUE)
View(dataset)
library(ggplot2)
library(gridExtra)
library(ggpubr)
load("C:/Users/mbofi/Dropbox/C5/Scripts/GitKraken/CBE_selection/results/results_decision_H0.RData")
knitr::opts_chunk$set(echo = TRUE)
dataset$diff_powers = dataset$Test_Power_CE - dataset$Test_Power_RE
ggplot(dataset, aes(x=ARE, y=diff_powers, color=as.factor(decision))) + geom_point(size=2) + labs(y = "Difference in power (Power CE - Power RE)", x="ARE", color="Decision")
dataset$gain_power = ifelse(dataset$diff_powers>0, "CE", "RE")
dataset$gain_power = as.factor(dataset$gain_power)
dataset$decision = as.factor(dataset$decision)
summary(subset(dataset,dataset$gain_power != dataset$decision)[,c(18,19,20,21,26)])
power_data <- data.frame(Power=c(dataset$Test_Power_ES,dataset$Test_Power_CE,dataset$Test_Power_RE),
Endpoint=c(rep("SE",length(dataset$Test_Power_ES)),rep("CE",length(dataset$Test_Power_CE)),rep("RE",length(dataset$Test_Power_RE)))
)
ggplot(power_data, aes(x=Endpoint, y=Power)) + geom_boxplot()
pmax(dataset$Test_power_CE,dataset$Test_power_RE)
summary(dataset$Test_power_ES - pmax(dataset$Test_power_CE,dataset$Test_power_RE))
max(dataset$Test_power_CE,dataset$Test_power_RE)
summary(dataset$Test_power_ES - pmax(dataset$Test_power_CE,dataset$Test_power_RE))
dataset$maxtest=max(dataset$Test_power_CE,dataset$Test_power_RE)
summary(dataset$Test_power_ES - pmax(dataset$Test_power_CE,dataset$Test_power_RE))
dataset$maxtest=max(dataset$Test_power_CE,dataset$Test_power_RE)
head(dataset)
# summary(dataset$Test_power_ES - pmax(dataset$Test_power_CE,dataset$Test_power_RE))
dataset$maxtest=ifelse(dataset$Test_power_CE>dataset$Test_power_RE,dataset$Test_power_CE,dataset$Test_power_RE)
dataset$maxtest= pmax(dataset$Test_power_CE,dataset$Test_power_RE)
dataset$maxtest= pmax(dataset$Test_power_CE,dataset$Test_power_RE)
dataset$maxtest <-NULL
dataset$maxtest = pmax(dataset$Test_power_CE,dataset$Test_power_RE)
dataset$maxtest <- 0
dataset$maxtest = pmax(dataset$Test_power_CE,dataset$Test_power_RE)
dataset$maxtest = dataset$Test_power_CE
dataset$maxtest = pmax(dataset$Test_power_CE,dataset$Test_power_RE)
library(ggplot2)
library(gridExtra)
library(ggpubr)
load("C:/Users/mbofi/Dropbox/C5/Scripts/GitKraken/CBE_selection/results/results_decision_H0.RData")
knitr::opts_chunk$set(echo = TRUE)
dataset$diff_powers = dataset$Test_Power_CE - dataset$Test_Power_RE
ggplot(dataset, aes(x=ARE, y=diff_powers, color=as.factor(decision))) + geom_point(size=2) + labs(y = "Difference in power (Power CE - Power RE)", x="ARE", color="Decision")
dataset$gain_power = ifelse(dataset$diff_powers>0, "CE", "RE")
dataset$gain_power = as.factor(dataset$gain_power)
dataset$decision = as.factor(dataset$decision)
summary(subset(dataset,dataset$gain_power != dataset$decision)[,c(18,19,20,21,26)])
power_data <- data.frame(Power=c(dataset$Test_Power_ES,dataset$Test_Power_CE,dataset$Test_Power_RE),
Endpoint=c(rep("SE",length(dataset$Test_Power_ES)),rep("CE",length(dataset$Test_Power_CE)),rep("RE",length(dataset$Test_Power_RE)))
)
ggplot(power_data, aes(x=Endpoint, y=Power)) + geom_boxplot()
dataset$maxtest = dataset$Test_power_CE
dataset$maxtest = pmax(dataset$Test_power_CE,dataset$Test_power_RE)
library(ggplot2)
library(gridExtra)
library(ggpubr)
load("C:/Users/mbofi/Dropbox/C5/Scripts/GitKraken/CBE_selection/results/results_decision_H0.RData")
knitr::opts_chunk$set(echo = TRUE)
dataset$diff_powers = dataset$Test_Power_CE - dataset$Test_Power_RE
ggplot(dataset, aes(x=ARE, y=diff_powers, color=as.factor(decision))) + geom_point(size=2) + labs(y = "Difference in power (Power CE - Power RE)", x="ARE", color="Decision")
dataset$gain_power = ifelse(dataset$diff_powers>0, "CE", "RE")
dataset$gain_power = as.factor(dataset$gain_power)
dataset$decision = as.factor(dataset$decision)
summary(subset(dataset,dataset$gain_power != dataset$decision)[,c(18,19,20,21,26)])
power_data <- data.frame(Power=c(dataset$Test_Power_ES,dataset$Test_Power_CE,dataset$Test_Power_RE),
Endpoint=c(rep("SE",length(dataset$Test_Power_ES)),rep("CE",length(dataset$Test_Power_CE)),rep("RE",length(dataset$Test_Power_RE)))
)
ggplot(power_data, aes(x=Endpoint, y=Power)) + geom_boxplot()
dataset$diff_es = ifelse(dataset$gain_power=="CE", dataset$Test_Power_ES-dataset$Test_Reject_CE,dataset$Test_Power_ES-dataset$Test_Reject_RE)
dataset$diff_es = ifelse(dataset$gain_power=="CE", dataset$Test_Power_ES-dataset$Test_Reject_CE,dataset$Test_Power_ES-dataset$Test_Reject_RE)
head(dataset)
dataset$diff_es = ifelse(dataset$gain_power=="CE", dataset$Test_Power_ES-dataset$Test_Reject_CE,dataset$Test_Power_ES-dataset$Test_Reject_RE)
head(dataset)
dataset$diff_es = ifelse(dataset$gain_power=="CE", dataset$Test_Power_ES-dataset$Test_Power_CE,dataset$Test_Power_ES-dataset$Test_Power_RE)
head(dataset)
